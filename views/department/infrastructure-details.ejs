<% include ../partials/header %>
<% include ../partials/department-sidebar %>
<% include ../partials/department-navbar %>
<% include ../partials/loadTablePartial %>

<div class="content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
              <h2>Infrastructure Details</h2>
                <div class="card">
                    <div class="card-header" data-background-color="purple">
                        <h4 class="title">Hardware Details</h4>
                        <p class="category">information about hardwares</p>
                    </div>
                    <div class="card-content table-responsive">
                        <%var i=0;%>
                        <%while(i<data.hardware.length){%>
                            <%var labName = data.hardware[i].labName; console.log(labName,i)%>
                            <table class="table">
                                <thead class="text-primary"> 
                                    <th>Name of the Lab</th>
                                    <th>Carpet Area</th>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><%=data.hardware[i].labName%></td>
                                        <td><%=data.hardware[i].carpetArea%></td>
                                <td>
                            <table class="table" style="border: 1px solid black;">
                                <thead class="text-primary">                                
                                    <th>Equipment</th>
                                    <th>Date of Procurement</th>
                                    <th>Mode of Procurement</th>
                                    <th>Description</th>
                                    <th>Quantity</th>
                                    <th>Amount Per Unit</th>
                                    <th>Total Investment</th>
                                </thead>
                                <tbody>
                                    <% for(; i< data.hardware.length && labName == data.hardware[i].labName; i++){%>
                                    <%console.log(i)%>                                    
                                        <tr data-toggle="modal" data-target="#myModalModular" onclick="fillDataModular('hardware',<%=i%>)" onmouseover="hoverEffect(this)" onmouseout="removeHoverEffect(this)">
                                            <td><%=data.hardware[i].equipments%></td>
                                            <td><%=data.hardware[i].dateOfProcurement%></td>
                                            <td><%=data.hardware[i].modeOfProcurement%></td>
                                            <td><%=data.hardware[i].description%></td>
                                            <td><%=data.hardware[i].quantity%></td>
                                            <td><%=data.hardware[i].amountPerUnit%></td>
                                            <td><%=data.hardware[i].totalInvestment%></td>
                                        </tr>
                                    <%}%>
                                </tbody>
                            </table>
                            </td>
                              </tr>
                                </tbody>
                            </table>
                        <%}%>
                    </div>
                    <a href = "/department/generateexcel/1/3/?departmentId=<%-GetParam%>">
                    <button class="btn btn-primary pull-left" style="margin:13px">Generate Excel file</button>
                    </a>
                <button class="btn btn-primary pull-right  insertButton" data-toggle="modal" data-target="#myModalModular" style="margin:13px" onclick="fillDataModularInsert('hardware')">Insert</button>                </div>
                <div class="card">
                    <div class="card-header" data-background-color="purple">
                        <h4 class="title">Software Details</h4>
                        <p class="category">information about softwares.</p>
                    </div>
                    <div class="card-content table-responsive">
                        <table class="table">
                            <thead class="text-primary">
                                <th>Software Name</th>
                                <th>License Number</th>
                                <th>License Type</th>
                                <th>No of Users</th>
                                <th>Date of Procurement</th>
                                <th>Mode of Procurement</th>
                                <th>Expiry Date</th>
                                <th>Vendor Name</th>
                                <th>Cost of Software (in Rs)</th>
                            </thead>
                            <tbody>
                                <% loadInTableModular('software', updatePermission)%>
                            </tbody>
                        </table>
                    </div>
                    <a href = "/department/generateexcel/2/3/?departmentId=<%-GetParam%>">
                    <button class="btn btn-primary pull-left" style="margin:13px">Generate Excel file</button>
                    </a>
                <button class="btn btn-primary pull-right  insertButton" data-toggle="modal" data-target="#myModalModular" style="margin:13px" onclick="fillDataModularInsert('software')">Insert</button>                </div>
            </div>
        </div>
    </div>
</div>

<% include ../partials/disable-buttons %>
<% include ../partials/footer %>
